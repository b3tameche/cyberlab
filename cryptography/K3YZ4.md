k3yz4.bat -> k3yz4.txt
```powershell
powershell.exe -enc JABVAHMAZQByAFAAYQBzAHMA..........AC4AJwA7ACAAfQA=
```
base64 decoded:
```powershell
$UserPassword = Read-Host -Prompt 'Enter your password';
$AESKey = [byte] 220, 22, 83, 174, 203, 44, 204, 117, 115, 154, 222, 39, 11, 56, 76, 254, 34, 89, 128, 71, 32, 229, 121, 173, 65, 102, 169, 33, 136, 115, 36, 132;
$RealPassword = '76492d1116743f0423413b16050a5345MgB8AFkASQAvAEUAbgB6AEsAZgBHAHAAdwBIAGMAdgBnAHoAMQBXAGIAaQBsAFEAPQA9AHwAZgA2ADEAYwAyAGEAMQBiAGUAYwBhADAAOAA5ADIAMABmADkAOAA2ADAAZQBlADEAZAAwADEAMABjAGQAYwA2AGQAYwA0AGYAZQBkADQAOQA0ADYAYQBiADQAYQAzADQAZQBmAGQAYwA3ADcANQBmADMANABmADkAYQAwADAAYwAwAGYAOAA1AGMAYgBkAGQAYgBjAGIAYgA2ADgAMABlADIAMwBmAGQAMABjAGYAMwAzAGMAZQBiADYAYwBlADYAZAA5ADYAYQA2ADQAYgAxADgANAAzAGUAZQAwAGIANQAzADkAZgAwAGMAMAA0ADcANgAzAGMANgBhAGEAZABjAA==';
$SecurePass = ConvertTo-SecureString -String $RealPassword -Key $AESKey;
$BSTR = [System.Runtime.InteropServices.Marshal]::SecureStringToBSTR($SecurePass);
$UnsecurePassword = [System.Runtime.InteropServices.Marshal]::PtrToStringAuto($BSTR);
if ($UserPassword.equals($UnsecurePassword)) {     
    $flag = '76492d1116743f0423413b16050a5345MgB8AFQATAB6AEEAVwB3AGUAcQA0AFkAdgB6ACsASgAvAFAARABuADkATgByAEEAPQA9AHwAMQBmADMAOAA2ADYAMwBlADEAOQAxADUAZAAyAGYANwAzAGMAMgA0AGMAYgBjADgAZQBkAGMANAA5AGQAYgA1AGEAMwA2AGEAOQAzADEAZQAwAGYAYgA2ADUAZAA5ADgAMwA4ADkANAAyAGMAYgBjAGYAYgBlAGQAZQA5AGMAZQAyAGEANgBlAGQAZgA1ADAAZgAzADQANgBjADIANgAyAGMAMQAwADYAMwA0AGUAZgAzADkAMwBiADMAMQAyADAAZAAxADcAMAAwADkANwA3AGQAMAA1ADgAZAA3ADAAYwAxADcAMQAzAGIAYwAwAGIAZgAyAGIANgBlADUANAA0AGIAMgAzAGEAMgBjADQAYgAyADAAMAAzADIAMABkAGIANgAwADYAZgBmADUANwA0AGEAMQAyAGYAMgAyADMAZgA=';
    $flag_key_bytes = [System.Text.Encoding]::UTF8.GetBytes($UnsecurePassword);
    $SecureString = ConvertTo-SecureString $flag -Key $flag_key_bytes;
    $BSTR = [System.Runtime.InteropServices.Marshal]::SecureStringToBSTR($SecureString);
    $Unsecureflag = [System.Runtime.InteropServices.Marshal]::PtrToStringAuto($BSTR);
    Write-Host $Unsecureflag;
} else {
    Write-Host 'Invalid password.'; 
}
```

We can completely remove if-else statement:
```powershell
$AESKey = [byte] 220, 22, 83, 174, 203, 44, 204, 117, 115, 154, 222, 39, 11, 56, 76, 254, 34, 89, 128, 71, 32, 229, 121, 173, 65, 102, 169, 33, 136, 115, 36, 132;
$RealPassword = '76492d1116743f0423413b16050a5345MgB8AFkASQAvAEUAbgB6AEsAZgBHAHAAdwBIAGMAdgBnAHoAMQBXAGIAaQBsAFEAPQA9AHwAZgA2ADEAYwAyAGEAMQBiAGUAYwBhADAAOAA5ADIAMABmADkAOAA2ADAAZQBlADEAZAAwADEAMABjAGQAYwA2AGQAYwA0AGYAZQBkADQAOQA0ADYAYQBiADQAYQAzADQAZQBmAGQAYwA3ADcANQBmADMANABmADkAYQAwADAAYwAwAGYAOAA1AGMAYgBkAGQAYgBjAGIAYgA2ADgAMABlADIAMwBmAGQAMABjAGYAMwAzAGMAZQBiADYAYwBlADYAZAA5ADYAYQA2ADQAYgAxADgANAAzAGUAZQAwAGIANQAzADkAZgAwAGMAMAA0ADcANgAzAGMANgBhAGEAZABjAA==';
$SecurePass = ConvertTo-SecureString -String $RealPassword -Key $AESKey;
$BSTR = [System.Runtime.InteropServices.Marshal]::SecureStringToBSTR($SecurePass);
$UnsecurePassword = [System.Runtime.InteropServices.Marshal]::PtrToStringAuto($BSTR);
$flag = '76492d1116743f0423413b16050a5345MgB8AFQATAB6AEEAVwB3AGUAcQA0AFkAdgB6ACsASgAvAFAARABuADkATgByAEEAPQA9AHwAMQBmADMAOAA2ADYAMwBlADEAOQAxADUAZAAyAGYANwAzAGMAMgA0AGMAYgBjADgAZQBkAGMANAA5AGQAYgA1AGEAMwA2AGEAOQAzADEAZQAwAGYAYgA2ADUAZAA5ADgAMwA4ADkANAAyAGMAYgBjAGYAYgBlAGQAZQA5AGMAZQAyAGEANgBlAGQAZgA1ADAAZgAzADQANgBjADIANgAyAGMAMQAwADYAMwA0AGUAZgAzADkAMwBiADMAMQAyADAAZAAxADcAMAAwADkANwA3AGQAMAA1ADgAZAA3ADAAYwAxADcAMQAzAGIAYwAwAGIAZgAyAGIANgBlADUANAA0AGIAMgAzAGEAMgBjADQAYgAyADAAMAAzADIAMABkAGIANgAwADYAZgBmADUANwA0AGEAMQAyAGYAMgAyADMAZgA=';
$flag_key_bytes = [System.Text.Encoding]::UTF8.GetBytes($UnsecurePassword);
$SecureString = ConvertTo-SecureString $flag -Key $flag_key_bytes;
$BSTR = [System.Runtime.InteropServices.Marshal]::SecureStringToBSTR($SecureString);
$Unsecureflag = [System.Runtime.InteropServices.Marshal]::PtrToStringAuto($BSTR);
Write-Host $Unsecureflag;
```
Change the file extension to ps1 and execute the script in the powershell:
```powershell
powershell -ExecutionPolicy ByPass -File k3yz4.ps1
```
Output:
```
flag{Y0u_H4cK3d_P0w3rsH3lL_23026489}
```
